@{
    ViewBag.Title = "Home Page";
}


<div class="container-fluid nopaddinglr">
    <div class="row">
        <div id="ifr" class="collapse embed-responsive">
            <iframe id="frame" src="" frameborder="0" scrolling="no"></iframe>
        </div>
    </div>
</div>


<div class="jumbotron collapse in" id="farms">

    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Farm 1</h3>
        </div>
        <div class="panel-body">

            <div class="container">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-3" onclick="openIframe()" data-toggle="collapse" data-target="#ifr">
                        <div class="thumbnail block-card">
                            <a>
                                <img class="img-thumb" src="~/Content/Images/appNull.png" alt="Sub1">
                                <hr class="separator-line" />
                                <div class="caption text-center">
                                    <h4 class="caption-text">Ambiente Istituzionale</h4>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-3" onclick="openIframe()" data-toggle="collapse" data-target="#ifr">
                        <div class="thumbnail block-card">
                            <a>
                                <img class="img-thumb" src="~/Content/Images/appNull.png" alt="Sub2">
                                <hr class="separator-line" />
                                <div class="caption text-center">
                                    <h4 class="caption-text">Self Service Analysis</h4>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>
    </div>


    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Farm 2</h3>
        </div>
        <div class="panel-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-3" onclick="openIframe()" data-toggle="collapse" data-target="#ifr">
                        <div class="thumbnail block-card">
                            <a>
                                <img class="img-thumb" src="~/Content/Images/appNull.png" alt="Sub1">
                                <hr class="separator-line" />
                                <div class="caption text-center">
                                    <h4 class="caption-text">Ambiente Istituzionale</h4>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-3">
                        <div class="thumbnail block-card">
                            <a>
                                <img class="img-thumb" src="~/Content/Images/appNull.png" alt="Sub2">
                                <hr class="separator-line" />
                                <div class="caption text-center">
                                    <h4 class="caption-text">Self Service Analysis</h4>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>
    </div>

</div>

@section scripts{
    <script type="text/javascript">

        //$(document).ready(function () {

        function setIframeSize() {
            $('#farms').collapse();

            var theIframe = document.querySelector("#frame"); //select the iframe element

            var w = window,
                d = document,
                e = d.documentElement,
                g = d.getElementsByTagName('body')[0],
                x = w.innerWidth || e.clientWidth || g.clientWidth,
                y = w.innerHeight || e.clientHeight || g.clientHeight;

            theIframe.style.height = y - $('.navbar').height() + "px"; //set the height
            theIframe.style.width = $(window).width() + "px"; //set the width
        }

        function openIframe() {
            setIframeSize();
            var myFrame = document.querySelector("#frame");
            myFrame.src = ""; //clear the frame
            myFrame.src = "@Url.Action("Hub", "Home")";
            //myFrame.src = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91737.51273778046!2d12.566428499999994!3d44.06689465000003!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132cc3a48fa6592b%3A0xc1f284db17f1449d!2sRimini+RN!5e0!3m2!1sit!2sit!4v1427492339750";
            
        }

        var $iframes = $("iframe");

        // Resize the iframes when the window is resized
        $(window).resize(function () {
            $iframes.each(function () {
                // Get the parent container width
                var width = $(this).parent().width();
                var height = $(window).height();
                $(this).width(width).height(height);
            });
            // Resize iframes on page load.
        }).resize();

       //}
    </script>
}

